<!DOCTYPE html>
<html xmlns:th="http:www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout1}" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>

<head>
	<link th:href="@{/css/common.css}" rel="stylesheet">
	<link th:href="@{/css/ReviseResume.css}" rel="stylesheet">
	<link th:href="@{/css/bootstrap/bootstrap.min.css}" rel="stylesheet">
	<meta charset="UTF-8">
	<title>Insert title here</title>
</head>

<body>

	<!--  헤더 및 Navigation Bar -->
	<header>

		<a href="/"><img th:src="@{/img/Logo1.svg}" id="logoimg"></a>

		<nav class="navbar navbar-expand-lg" id="navbarhead">
			<div class="container-fluid">

				<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
					data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
					aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item"><a class="nav-link" aria-current="page" href="/recruitpage/list">채용공고</a>
						</li>
						<li class="nav-item"><a class="nav-link" href="/notice/list">공지사항</a></li>

					</ul>
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item" sec:authorize="isAnonymous()"><a class="nav-link" aria-current="page"
								href="/login">로그인</a></li>
						<li class="nav-item" sec:authorize="isAnonymous()"><a class="nav-link" aria-current="page"
								href="/join">회원가입</a></li>
						<li class="nav-item" sec:authorize="isAuthenticated()"><a class="nav-link" aria-current="page"
								href="/logout">로그아웃</a></li>
						<li class="nav-item" sec:authorize="isAuthenticated()"><a class="nav-link" aria-current="page"
								href="/mypage">마이페이지</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>


	<div style="display: table; margin:auto; width: 800px;">
		<table class="table titletable">
			<tbody>
				<tr>
					<td>이력서 제목</td>
					<td><input id="resumetitle" th:value="${resume.title}"></td>
				</tr>
			</tbody>
		</table>

		<table id="basic_info" class="table contenttable">
			<thead>
				<th colspan="3" class="table_head">기본정보</th>
			</thead>
			<tbody>
				<tr>
					<td rowspan="7" style="width: 130px;">
						<img th:src="*{imgurl}" id="resume_img" style="width: 120px; height: 160px;">
					</td>
					<td>이름</td>
					<td id="resume_name" th:text="${member.name}"></td>
				</tr>
				<tr>
					<td>생년월일</td>
					<td id="resume_birth" th:text="${member.birthday}"></td>
				</tr>
				<tr>
					<td>전화번호</td>
					<td id="resume_phone" th:text="${member.phone}"></td>
				</tr>
				<tr>
					<td>이메일</td>
					<td id="resume_email" th:text="${member.email}"></td>
				</tr>
				<tr>
					<td rowspan="2">주소</td>
					<td th:text="${address1}"></td>
				</tr>
				<tr>
					<td th:text="${address2}"></td>
				</tr>
			</tbody>
		</table>
		<p style="font-size: 11px;">이름, 생년월일, 전화번호, 이메일, 주소 등 개인정보는 회원가입 시 입력한 정보를 기준으로 반영되었습니다. <br>
			수정을 원하시는 경우 회원정보 수정을 이용해주시기 바랍니다.</p>

		<table class="table contenttable" style="width: 600px; margin-bottom: 40px;">
			<thead>
				<th colspan="3" class="기본정보">학력사항</th>
			</thead>
			<tbody id="academic"></tbody>
			<tbody>
				<tr>
					<td><input type="button" onclick="addacademic()" value="학력사항 추가하기" class="btn btn-primary btn-sm"></td>
				</tr>
			</tbody>
			
		</table>

		<table class="table contenttable" style="width: 600px; margin-bottom: 40px;">
			<thead>
				<th colspan="3">학력사항</th>
			</thead>
			<tbody th:if="${academicList} != null" th:each="academicList : ${academicList}">
				<tr>
					<td class="column1st">학교명</td>
					<td class="borderleft">| </td>
					<td colspan="3" class="columncontent"><input type="text"
							class="academic_name form-control form-control-sm" th:value="${academicList.name}"></td>
				</tr>

				<tr>
					<td>구분</td>
					<td class="borderleft">| </td>
					<td colspan="3"><select th:if="${academicList.type} == 'highschool'"
							class="academic_type form-select form-select-sm">
							<option value='highschool' selected>고등학교</option>
							<option value='university'>대학교</option>
							<option value='graduateSchool'>대학원</option>
						</select> <select th:if="${academicList.type} == 'university'"
							class="academic_type form-select form-select-sm">
							<option value='highschool'>고등학교</option>
							<option value='university' selected>대학교</option>
							<option value='graduateSchool'>대학원</option>
						</select> <select th:if="${academicList.type} == 'graduateSchool'"
							class="academic_type form-select form-select-sm">
							<option value='highschool'>고등학교</option>
							<option value='university'>대학교</option>
							<option value='graduateSchool' selected>대학원</option>
						</select></td>
				</tr>

				<tr>
					<td>재학기간</td>
					<td class="borderleft">| </td>
					<td><input type="date" class="academic_start form-control form-control-sm inputcontrol"
							th:value="${academicList.start}"></td>
					<td style="width: 8px; align-items: center; font-size: 20px;">~</td>
					<td><input type="date" class="academic_start form-control form-control-sm inputcontrol"
							th:value="${academicList.end}"></td>
				</tr>

				<tr>
					<td>졸업여부</td>
					<td class="borderleft">| </td>
					<td colspan="3"><select th:if="${academicList.studying} == 'attending'" class="academic_studying form-select form-select-sm">
							<option value='attending' selected>재학중</option>
							<option value='off'>휴학중</option>
							<option value='graduated'>졸업</option>
						</select> <select th:if="${academicList.studying} == 'off'" class="academic_studying form-select form-select-sm">
							<option value='attending'>재학중</option>
							<option value='off' selected>휴학중</option>
							<option value='graduated'>졸업</option>
						</select> <select th:if="${academicList.studying} == 'graduated'" class="academic_studying form-select form-select-sm">
							<option value='attending'>재학중</option>
							<option value='off'>휴학중</option>
							<option value='graduated' selected>졸업</option>
						</select></td>
				</tr>

				<tr>
					<td>전공 / 계열</td>
					<td class="borderleft">| </td>
					<td colspan="3"><input type="text" class="academic_major form-control form-control-sm" th:value="${academicList.major}"></td>
				</tr>

				<tr>
					<td>학점</td>
					<td class="borderleft">| </td>
					<td><input type="text" class="academic_grade inputcontrol form-control form-control-sm inputcontrol" th:value="${academicList.grade}"> / <select
							th:if="${academicList.gradefull} == '4.0'" class="academic_gradefull form-select form-select-sm inputcontrol">
							<option value='4.0' selected>4.0</option>
							<option value='4.3'>4.3</option>
							<option value='4.5'>4.5</option>
						</select> <select th:if="${academicList.gradefull} == '4.3'" class="academic_gradefull form-select form-select-sm inputcontrol">
							<option value='4.0'>4.0</option>
							<option value='4.3' selected>4.3</option>
							<option value='4.5'>4.5</option>
						</select> <select th:if="${academicList.gradefull} == '4.5'" class="academic_gradefull form-select form-select-sm inputcontrol">
							<option value='4.0'>4.0</option>
							<option value='4.3'>4.3</option>
							<option value='4.5' selected>4.5</option>
						</select></td>
				</tr>

				<tr>
					<td>세부 학습 내용</td>
					<td class="borderleft">| </td>
					<td colspan="3" style="text-align: right;">			
							<textarea th:text="${academicList.detail}" rows='5'
								class="academic_detail form-control form-control-sm"></textarea>
					</td>
				</tr>
			</tbody>

			<tbody id="addacademic"></tbody>

			<tbody>
				<tr>
					<td><input type="button" onclick="addacademic()" value="학력사항 추가하기"></td>
				</tr>
			</tbody>
		</table>
	</div>

</body>

</html>

<script th:inline="javascript">
	var academicLength = "[[${academicLength}]]";
	var activityLength = "[[${activityLength}]]";
	var careerLength = "[[${careerLength}]]";
	var certificateLength = "[[${certificateLength}]]";
	var educationLength = "[[${educationLength}]]";
	var languagesLength = "[[${languagesLength}]]";
	var oeLength = "[[${oeLength}]]";
	var portfolioLength = "[[${portfolioLength}]]";
</script>
<script type="application/javascript" th:src="@{/js/ReviseResume.js}"></script>

<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap"
	rel="stylesheet">