<!DOCTYPE html>
<html xmlns:th="http:www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout1}"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
<head>
<link th:href="@{/css/common.css}" rel="stylesheet">
<link th:href="@{/css/Home.css}" rel="stylesheet">
<link th:href="@{/css/bootstrap/bootstrap.min.css}" rel="stylesheet">
<meta charset="UTF-8">
<title>메인페이지</title>
</head>
<body>

	<!--  헤더 및 Navigation Bar -->
	<header>

		<a href="/"><img th:src="@{/img/Logo1.svg}" id="logoimg"></a>

		<nav class="navbar navbar-expand-lg" id="navbarhead">
			<div class="container-fluid">

				<button class="navbar-toggler" type="button"
					data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
					aria-controls="navbarSupportedContent" aria-expanded="false"
					aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item"><a class="nav-link active"
							aria-current="page" href="/recruitpage/list">채용공고</a></li>
						<li class="nav-item"><a class="nav-link" href="/notice/list">공지사항</a></li>

					</ul>
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item" sec:authorize="isAnonymous()"><a
							class="nav-link active" aria-current="page" href="/login">로그인</a></li>
						<li class="nav-item" sec:authorize="isAnonymous()"><a
							class="nav-link active" aria-current="page" href="/join">회원가입</a></li>
						<li class="nav-item" sec:authorize="isAuthenticated()"><a
							class="nav-link active" aria-current="page" href="/logout">로그아웃</a></li>
						<li class="nav-item" sec:authorize="isAuthenticated()"><a
							class="nav-link active" aria-current="page" href="/mypage">마이페이지</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	<!-- 본문 / 최신 공고 5개 & 최신 기업리뷰 5개 -->
	<div th:fragment="content">

		<table style="margin-top: 100px;" id="recruit_table">
			<thead>
				<tr>
					<th>최신 공고</th>
				</tr>
			</thead>

			<tbody th:if="${recruitLength} != 0">
				<tr>
					<td th:each="recruitList:${recruitList}" id="tablebody">
						<div class="card" id="card"
							th:onClick="|location.href='@{/recruitpage/detail/{id}(id=${recruitList.id})}'|">
							<div class="card-body">
								<h5 class="card-title" id="cardtitle"
									th:text="${recruitList.title}"></h5>
								<p class="card-text" id="cardbody">
									업체 <label
										th:text="${companyList[__${recruitListStat.index}__].name}"></label>
									<br> 경력 <label th:text="${recruitList.career}"></label> </br>
									마감 <label th:text="${recruitList.deadline}"></label>
								</p>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="5" style="text-align: right; cursor: pointer;"
						onclick="torecruitList()">더보기</td>
				</tr>
			</tbody>

			<tbody th:unless="${recruitLength} != 0">
				<tr>
					<td>아직 작성된 공고가 없습니다.</td>
				</tr>

			</tbody>
		</table>

		<table id="notice_table">
			<thead>
				<tr>
					<th>공지사항</th>
				</tr>
			</thead>

			<tbody th:if="${noticeLength} != 0">
				<tr>
					<td>번호</td>
					<td>제목</td>
					<td>작성일</td>
				</tr>

				<tr th:each="noticeList : ${noticeList}">
					<td th:text="${noticeListStat.index} + 1"></td>
					<td th:text="${noticeList.title}">제목</td>
					<td th:text="${noticeList.registerdate}">작성일</td>
				</tr>

				<tr>
					<td colspan="5" style="text-align: right; cursor: pointer;"
						onclick="tonoticeList()">더보기</td>
				</tr>
			</tbody>

			<tbody th:if="${noticeLength} == 0">
				<tr>
					<td>아직 작성된 공지사항이 없습니다.</td>
				</tr>

			</tbody>
		</table>

		<button th:if="${sort}=='company' and ${company} == null"
			type="button" onClick="location.href='/mypage/company/input'">업체정보등록</button>

		<button th:if="${sort}=='company' and ${company} != null"
			type="button" onClick="location.href='/mypage/company/detail'">업체정보조회</button>

		<button sec:authorize="isAuthenticated()" type="button"
			onClick="location.href='/mypage/accountinfo'">마이페이지 - 회원정보</button>

		<button th:if="${sort}=='individual'"
			sec:authorize="isAuthenticated()" type="button"
			onClick="location.href='/mypage/user/resume'">마이페이지 - 이력서 조회</button>

		<a th:href="${url}" th:text="${originalname}"></a>


	</div>

	<!-- Footer 제작 공간 -->
	<footer>
		<div>Footer 입니다.</div>
	</footer>
</body>
</html>

<script type="application/javascript" th:src="@{/js/Home.js}"></script>
<link
	href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap"
	rel="stylesheet">

